!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=5)}([function(e,t){const n=(()=>{const e=e=>{const t=document.createElement("div");t.classList.add(e),t.id=`${e}Board`;for(let n=0;n<100;n+=1){const r=document.createElement("div");r.classList.add("square"),r.id=`${e}-${n}`,"shipSelect"===e&&(r.innerHTML=n),t.appendChild(r)}return t};return{renderBoards:t=>{const n=document.getElementById("container");return t.forEach(t=>{const r=e(t.name);n.appendChild(r)}),!0},renderFleet:(e,t)=>{const n=document.getElementById(`${e}Board`);return t.forEach(e=>{for(let t=0;t<e.ship.length;t+=1){let r;r=e.pos.rotate?10*e.pos.x+e.pos.y+t:10*e.pos.x+10*t+e.pos.y,n.childNodes[r].classList.add("ship")}}),!0},renderMoves:(e,t)=>{const n=document.getElementById(`${e}Board`);return t.hits.forEach(e=>{const t=10*e[0]+e[1];n.childNodes[t].classList.add("hit")}),t.misses.forEach(e=>{const t=10*e[0]+e[1];n.childNodes[t].classList.add("miss")}),!0},showWinner:e=>{const t=document.getElementById("container"),n=document.createElement("div"),r=document.createElement("p"),o=document.createElement("form"),s=document.createElement("input");n.classList.add("winner"),r.innerHTML=`${e} won!`,s.type="submit",s.id="rematchBtn",s.value="Rematch",n.appendChild(r),o.appendChild(s),n.appendChild(o),t.appendChild(n)},showShipPlacer:()=>{const t=document.getElementById("shipPlacement"),n=e("shipSelect");t.appendChild(n)},getShipPlacements:()=>{const e=document.querySelectorAll(".shipInput"),t=document.querySelectorAll(".shipRotate"),n=[];for(let r=0;r<e.length;r+=1){const o={coor:[Math.floor(e[r].value/10),Math.floor(e[r].value%10)],rotate:t[r].checked};n.push(o)}return n},hideSetup:()=>{document.getElementById("shipPlacement").classList.add("hide")},showShipError:()=>{const e=document.getElementById("shipPlacement");if(null===document.getElementById("invalidPlacement")){const t=document.createElement("p");t.id="invalidPlacement",t.innerHTML="Error those ship coordinates are valid. Try again.",e.appendChild(t)}}}})();e.exports=n},function(e,t){e.exports=(e=>{const t=[],n=e=>!t.some(t=>t[0]===e[0]&&t[1]===e[1])&&e[0]>=0&&e[0]<=9&&e[1]>=0&&e[1]<=9&&(t.push(e),e);return{name:e,attack:n,randomMove:()=>{const e=Math.floor(10*Math.random()),t=Math.floor(10*Math.random());return n([e,t])}}})},function(e,t){e.exports=(()=>{const e=[],t=[],n=[],r=t=>{for(let n=0;n<e.length;n+=1){const r=e[n];for(let e=0;e<r.ship.length;e+=1){if(r.pos.rotate&&t[0]===r.pos.x&&t[1]===r.pos.y+e)return[n,e];if(!r.pos.rotate&&t[0]===r.pos.x+e&&t[1]===r.pos.y)return[n,e]}}return!1};return{fleet:e,hits:t,misses:n,place:(t,n,o=!1)=>{if(t[0]>9||t[0]<0||t[1]>9||t[1]<0)return!1;if(!o&&t[0]+n.length-1>9||o&&t[1]+n.length-1>9)return!1;const s=[],a=[];for(let e=0;e<n.length;e+=1)o?s.push([t[0],t[1]+e]):s.push([t[0]+e,t[1]]),a.push(r(s[e]));if(a.every(e=>!1===e)){const r={};return r.pos={x:t[0],y:t[1],rotate:o},r.ship=n,e.push(r),!0}return!1},receiveAttack:o=>{const s=r(o);if(!1===s)n.push(o);else{const n=s[0],r=s[1];e[n].ship.hit(r),t.push(o)}return!0},sunkFleet:()=>e.every(e=>!0===e.ship.isSunk())}})},function(e,t){e.exports=((e,t)=>{const n=new Array(t).fill(!1,0);return{name:e,length:t,hit:e=>!1===n[e]&&(n[e]=!0,!0),isSunk:()=>n.every(e=>!0===e)}})},function(e,t,n){const r=n(3),o=n(2),s=n(1),a=n(0);e.exports=(()=>{const e=[s("playerOne"),s("playerTwo")],t=[o(),o()],n=()=>[r("destroyer",2),r("submarine",3),r("cruiser",3),r("battleship",4),r("carrier",5)],c=(e=[])=>{const r=n(),o=e;0===o.length&&(o.push({coor:[0,0],rotate:!1}),o.push({coor:[6,0],rotate:!1}),o.push({coor:[0,9],rotate:!1}),o.push({coor:[0,2],rotate:!0}),o.push({coor:[4,3],rotate:!0}));for(let e=0;e<r.length;e+=1)if(!t[0].place(o[e].coor,r[e],o[e].rotate)){for(let e=0;e<r.length;e+=1)t[0].fleet.pop();return!1}return!0},l=()=>{const e=Math.floor(10*Math.random()),t=Math.floor(10*Math.random());return 0===Math.floor(2*Math.random())?{coor:[e,t],rotate:!1}:{coor:[e,t],rotate:!0}},i=()=>{const e=n();let r,o;for(let n=0;n<e.length;n+=1)do{r=l(),o=t[1].place(r.coor,e[n],r.rotate)}while(!o)},d=()=>!(!t[0].sunkFleet()&&!t[1].sunkFleet()),u=()=>t[0].sunkFleet()?e[1].name:!!t[1].sunkFleet()&&e[0].name,p=()=>{document.getElementById(`${e[1].name}Board`).onclick=(n=>{const r=(e=>{const t=parseInt(e.target.id.match(/[0-9]{1,}/),10);return[Math.floor(t/10),t%10]})(n),o=e[0].attack(r);if(o&&!d()){let n;t[1].receiveAttack(o),a.renderMoves(e[1].name,t[1]);do{n=e[1].randomMove()}while(!n);if(t[0].receiveAttack(n),a.renderMoves(e[0].name,t[0]),d()){const e=u();a.showWinner(e)}}return!0})};return{players:e,gameBoards:t,initPlayerBoard:c,initCompBoard:i,gameOver:d,winner:u,play:()=>{const n=document.getElementById("placeShipsBtn");a.showShipPlacer(),n.onclick=(n=>{n.preventDefault();const r=a.getShipPlacements();c(r)?(a.hideSetup(),i(),a.renderBoards(e),a.renderFleet(e[0].name,t[0].fleet),p()):a.showShipError()})}}})},function(e,t,n){n(4)().play()}]);